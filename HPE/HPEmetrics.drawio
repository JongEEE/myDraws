<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36" version="25.0.3">
  <diagram name="第 1 页" id="maKB_V1inOgE-ZNDLAnU">
    <mxGraphModel dx="3492" dy="953" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1654" pageHeight="2336" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="EysgPnr_ZNWrjiz1wVW4-3" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-595" y="1110" width="775" height="370" as="geometry" />
        </mxCell>
        <mxCell id="EysgPnr_ZNWrjiz1wVW4-5" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#ef2525;" vertex="1" parent="1">
          <mxGeometry x="-555" y="860" width="600" height="240" as="geometry" />
        </mxCell>
        <mxCell id="xcaynpqjky86MegLARN_-1" value="" style="shape=image;verticalLabelPosition=bottom;labelBackgroundColor=default;verticalAlign=top;aspect=fixed;imageAspect=0;image=data:image/png,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;" parent="1" vertex="1">
          <mxGeometry x="90" y="50" width="270.15" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xcaynpqjky86MegLARN_-9" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="100" y="260" width="390" height="110" as="geometry" />
        </mxCell>
        <mxCell id="xcaynpqjky86MegLARN_-2" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;" parent="xcaynpqjky86MegLARN_-9" vertex="1">
          <mxGeometry y="80" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xcaynpqjky86MegLARN_-3" value="" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;" parent="xcaynpqjky86MegLARN_-9" vertex="1">
          <mxGeometry x="190" y="80" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xcaynpqjky86MegLARN_-5" value="" style="html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.triadArrow;dy=17.6;dx=10;arrowHead=40;rotation=-180;" parent="xcaynpqjky86MegLARN_-9" vertex="1">
          <mxGeometry x="100" y="30" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xcaynpqjky86MegLARN_-6" value="" style="html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.triadArrow;dy=17.6;dx=10;arrowHead=40;rotation=-180;" parent="xcaynpqjky86MegLARN_-9" vertex="1">
          <mxGeometry x="200" y="30" width="80" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xcaynpqjky86MegLARN_-7" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;开关1&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="xcaynpqjky86MegLARN_-9" vertex="1">
          <mxGeometry x="110" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="xcaynpqjky86MegLARN_-8" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;开关2&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="xcaynpqjky86MegLARN_-9" vertex="1">
          <mxGeometry x="210" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kg68-Rnl9jc69O7SToxk-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="kg68-Rnl9jc69O7SToxk-1" target="kg68-Rnl9jc69O7SToxk-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kg68-Rnl9jc69O7SToxk-1" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: #001080;&quot;&gt;self&lt;/span&gt;.&lt;span style=&quot;color: #001080;&quot;&gt;model&lt;/span&gt; = &lt;span style=&quot;color: #001080;&quot;&gt;self&lt;/span&gt;.&lt;span style=&quot;color: #795e26;&quot;&gt;build_model&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;model&lt;/span&gt;)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1355" y="600" width="380" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kg68-Rnl9jc69O7SToxk-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="kg68-Rnl9jc69O7SToxk-2" target="kg68-Rnl9jc69O7SToxk-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kg68-Rnl9jc69O7SToxk-2" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: #0000ff;&quot;&gt;def&lt;/span&gt; &lt;span style=&quot;color: #795e26;&quot;&gt;build_model&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;self&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;model&lt;/span&gt;: &lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: #267f99;&quot;&gt;Union&lt;/span&gt;[&lt;span style=&quot;color: #267f99;&quot;&gt;nn&lt;/span&gt;.&lt;span style=&quot;color: #267f99;&quot;&gt;Module&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;Dict&lt;/span&gt;]) -&amp;gt; &lt;span style=&quot;color: #267f99;&quot;&gt;nn&lt;/span&gt;.&lt;span style=&quot;color: #267f99;&quot;&gt;Module&lt;/span&gt;:&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1357.5" y="670" width="385" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kg68-Rnl9jc69O7SToxk-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="kg68-Rnl9jc69O7SToxk-3" target="kg68-Rnl9jc69O7SToxk-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kg68-Rnl9jc69O7SToxk-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" parent="1" source="kg68-Rnl9jc69O7SToxk-3" target="kg68-Rnl9jc69O7SToxk-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kg68-Rnl9jc69O7SToxk-3" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: #001080;&quot;&gt;model&lt;/span&gt; = &lt;span style=&quot;color: #0070c1;&quot;&gt;MODELS&lt;/span&gt;.&lt;span style=&quot;color: #795e26;&quot;&gt;build&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;model&lt;/span&gt;)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1303.5" y="760" width="277" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kg68-Rnl9jc69O7SToxk-6" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: #0070c1;&quot;&gt;MODELS&lt;/span&gt; = &lt;span style=&quot;color: #267f99;&quot;&gt;Registry&lt;/span&gt;(&lt;span style=&quot;color: #a31515;&quot;&gt;&#39;model&#39;&lt;/span&gt;, &lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: #795e26;&quot;&gt;build_model_from_cfg&lt;/span&gt;)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1015" y="810" width="280" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kg68-Rnl9jc69O7SToxk-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="kg68-Rnl9jc69O7SToxk-7" target="kg68-Rnl9jc69O7SToxk-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kg68-Rnl9jc69O7SToxk-7" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;div style=&quot;line-height: 24px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #0000ff;&quot;&gt;def&lt;/span&gt; &lt;span style=&quot;color: #795e26;&quot;&gt;build_model_from_cfg&lt;/span&gt;(&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;cfg&lt;/span&gt;: &lt;span style=&quot;color: rgb(38, 127, 153);&quot;&gt;Union&lt;/span&gt;[&lt;span style=&quot;color: rgb(38, 127, 153);&quot;&gt;dict&lt;/span&gt;, &lt;span style=&quot;color: rgb(38, 127, 153);&quot;&gt;ConfigDict&lt;/span&gt;, &lt;span style=&quot;color: rgb(38, 127, 153);&quot;&gt;Config&lt;/span&gt;],&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;registry&lt;/span&gt;: &lt;span style=&quot;color: #267f99;&quot;&gt;Registry&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;default_args&lt;/span&gt;: &lt;span style=&quot;color: #267f99;&quot;&gt;Optional&lt;/span&gt;[&lt;span style=&quot;color: #267f99;&quot;&gt;Union&lt;/span&gt;[&lt;span style=&quot;color: #267f99;&quot;&gt;dict&lt;/span&gt;, &lt;span style=&quot;color: #a31515;&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: #267f99;&quot;&gt;ConfigDict&lt;/span&gt;&lt;span style=&quot;color: #a31515;&quot;&gt;&#39;&lt;/span&gt;, &lt;span style=&quot;color: #a31515;&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: #267f99;&quot;&gt;Config&lt;/span&gt;&lt;span style=&quot;color: #a31515;&quot;&gt;&#39;&lt;/span&gt;]] = &lt;span style=&quot;color: #0000ff;&quot;&gt;None&lt;/span&gt;&lt;/div&gt;&lt;div&gt;) -&amp;gt; &lt;span style=&quot;color: #a31515;&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: #267f99;&quot;&gt;nn&lt;/span&gt;&lt;span style=&quot;color: #a31515;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #267f99;&quot;&gt;Module&lt;/span&gt;&lt;span style=&quot;color: #a31515;&quot;&gt;&#39;&lt;/span&gt;:&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="-1515" y="910" width="700" height="100" as="geometry" />
        </mxCell>
        <mxCell id="kg68-Rnl9jc69O7SToxk-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="kg68-Rnl9jc69O7SToxk-10" target="kg68-Rnl9jc69O7SToxk-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kg68-Rnl9jc69O7SToxk-10" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #0000ff;&quot;&gt;def&lt;/span&gt; &lt;span style=&quot;color: #795e26;&quot;&gt;build_from_cfg&lt;/span&gt;(&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;cfg&lt;/span&gt;: &lt;span style=&quot;color: rgb(38, 127, 153);&quot;&gt;Union&lt;/span&gt;[&lt;span style=&quot;color: rgb(38, 127, 153);&quot;&gt;dict&lt;/span&gt;, &lt;span style=&quot;color: rgb(38, 127, 153);&quot;&gt;ConfigDict&lt;/span&gt;, &lt;span style=&quot;color: rgb(38, 127, 153);&quot;&gt;Config&lt;/span&gt;],&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;registry&lt;/span&gt;: &lt;span style=&quot;color: rgb(38, 127, 153);&quot;&gt;Registry&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;default_args&lt;/span&gt;: &lt;span style=&quot;color: #267f99;&quot;&gt;Optional&lt;/span&gt;[&lt;span style=&quot;color: #267f99;&quot;&gt;Union&lt;/span&gt;[&lt;span style=&quot;color: #267f99;&quot;&gt;dict&lt;/span&gt;, &lt;span style=&quot;color: #267f99;&quot;&gt;ConfigDict&lt;/span&gt;, &lt;span style=&quot;color: #267f99;&quot;&gt;Config&lt;/span&gt;]] = &lt;span style=&quot;color: #0000ff;&quot;&gt;None&lt;/span&gt;&lt;/div&gt;&lt;div&gt;) -&amp;gt; &lt;span style=&quot;color: #001080;&quot;&gt;Any&lt;/span&gt;:&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="-1540" y="1050" width="750" height="80" as="geometry" />
        </mxCell>
        <mxCell id="kg68-Rnl9jc69O7SToxk-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.68;entryY=-0.027;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;" parent="1" source="kg68-Rnl9jc69O7SToxk-6" target="kg68-Rnl9jc69O7SToxk-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kg68-Rnl9jc69O7SToxk-13" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: #001080;&quot;&gt;# 实际上就是调用构造函数&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: #001080;&quot;&gt;obj&lt;/span&gt; = &lt;span style=&quot;color: #001080;&quot;&gt;obj_cls&lt;/span&gt;(**&lt;span style=&quot;color: #001080;&quot;&gt;args&lt;/span&gt;) &amp;nbsp;&lt;span style=&quot;color: #008000;&quot;&gt;# type: ignore &lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1375" y="1180" width="420" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kg68-Rnl9jc69O7SToxk-16" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: #0000ff;&quot;&gt;class&lt;/span&gt; &lt;span style=&quot;color: #267f99;&quot;&gt;TopdownPoseEstimator&lt;/span&gt;(&lt;span style=&quot;color: #267f99;&quot;&gt;BasePoseEstimator&lt;/span&gt;):&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;div style=&quot;line-height: 24px;&quot;&gt;&lt;span style=&quot;color: #0000ff;&quot;&gt;    def&lt;/span&gt; &lt;span style=&quot;color: #795e26;&quot;&gt;__init__&lt;/span&gt;():&lt;/div&gt;&lt;div style=&quot;line-height: 24px;&quot;&gt;&lt;div style=&quot;line-height: 24px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #267f99;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;super&lt;/span&gt;().&lt;span style=&quot;color: #795e26;&quot;&gt;__init__&lt;/span&gt;() # 实际上初始化交给了BasePoseEstimator完成&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="-470" y="585" width="680" height="85" as="geometry" />
        </mxCell>
        <mxCell id="kg68-Rnl9jc69O7SToxk-22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="kg68-Rnl9jc69O7SToxk-17" target="kg68-Rnl9jc69O7SToxk-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kg68-Rnl9jc69O7SToxk-17" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;div style=&quot;line-height: 24px;&quot;&gt;&lt;span style=&quot;color: #001080;&quot;&gt;runner&lt;/span&gt;.&lt;span style=&quot;color: #795e26;&quot;&gt;train&lt;/span&gt;()&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-340" y="890" width="170" height="40" as="geometry" />
        </mxCell>
        <mxCell id="kg68-Rnl9jc69O7SToxk-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="kg68-Rnl9jc69O7SToxk-18" target="kg68-Rnl9jc69O7SToxk-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kg68-Rnl9jc69O7SToxk-18" value="&lt;br&gt;&lt;span style=&quot;forced-color-adjust: none; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: pre; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; color: rgb(0, 16, 128);&quot;&gt;self&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: pre; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;forced-color-adjust: none; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: pre; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; color: rgb(121, 94, 38);&quot;&gt;_init_model_weights&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: pre; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;()&lt;/span&gt;&lt;div&gt;&lt;br/&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;" parent="1" vertex="1">
          <mxGeometry x="-395" y="960" width="280" height="50" as="geometry" />
        </mxCell>
        <mxCell id="EysgPnr_ZNWrjiz1wVW4-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="kg68-Rnl9jc69O7SToxk-23" target="EysgPnr_ZNWrjiz1wVW4-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-255" y="1150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kg68-Rnl9jc69O7SToxk-23" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #af00db;&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;color: #795e26;&quot;&gt;hasattr&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;model&lt;/span&gt;, &lt;span style=&quot;color: #a31515;&quot;&gt;&#39;init_weights&#39;&lt;/span&gt;):&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;model&lt;/span&gt;.init_weights()&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-430" y="1040" width="350" height="52" as="geometry" />
        </mxCell>
        <mxCell id="EysgPnr_ZNWrjiz1wVW4-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="EysgPnr_ZNWrjiz1wVW4-1" target="EysgPnr_ZNWrjiz1wVW4-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EysgPnr_ZNWrjiz1wVW4-1" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: #267f99;&quot;&gt;TopdownPoseEstimator.&lt;/span&gt;&lt;span style=&quot;color: rgb(121, 94, 38);&quot;&gt;init_weights()&lt;br&gt;实际上就是&lt;/span&gt;&lt;span style=&quot;color: rgb(38, 127, 153);&quot;&gt;BaseModule&lt;/span&gt;&lt;span style=&quot;background-color: initial; color: rgb(38, 127, 153);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;background-color: initial; color: rgb(121, 94, 38);&quot;&gt;init_weights()&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;这个函数内部，是一个递归调用的过程，会遍历当前模型的模块，&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;各自调用他们的init_weights()方法&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-518.75" y="1130" width="527.5" height="100" as="geometry" />
        </mxCell>
        <mxCell id="EysgPnr_ZNWrjiz1wVW4-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="EysgPnr_ZNWrjiz1wVW4-4" target="EysgPnr_ZNWrjiz1wVW4-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EysgPnr_ZNWrjiz1wVW4-4" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: #795e26;&quot;&gt;initialize&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;self&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;pretrained_cfg&lt;/span&gt;)这是根据cfg来初始化参数&lt;br&gt;这个函数是一个入口函数，实际上底层又会涉及到创建初始化方式对象&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;来初始化，对于一个初始化配置，就会有一个初始化对象&lt;br/&gt;创建对象，就涉及到Registry那一套东西&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-537.5" y="1280" width="565" height="110" as="geometry" />
        </mxCell>
        <mxCell id="EysgPnr_ZNWrjiz1wVW4-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="EysgPnr_ZNWrjiz1wVW4-9" target="EysgPnr_ZNWrjiz1wVW4-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EysgPnr_ZNWrjiz1wVW4-9" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: #795e26;&quot;&gt;_initialize&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;module&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;cp_cfg&lt;/span&gt;)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-395" y="1430" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="EysgPnr_ZNWrjiz1wVW4-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="EysgPnr_ZNWrjiz1wVW4-10" target="EysgPnr_ZNWrjiz1wVW4-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EysgPnr_ZNWrjiz1wVW4-10" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #001080;&quot;&gt;func&lt;/span&gt; = &lt;span style=&quot;color: #795e26;&quot;&gt;build_from_cfg&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;cfg&lt;/span&gt;, &lt;span style=&quot;color: #0070c1;&quot;&gt;WEIGHT_INITIALIZERS&lt;/span&gt;)&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #001080;&quot;&gt;func&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;module&lt;/span&gt;)&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="-492.5" y="1510" width="475" height="60" as="geometry" />
        </mxCell>
        <mxCell id="EysgPnr_ZNWrjiz1wVW4-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="EysgPnr_ZNWrjiz1wVW4-11" target="EysgPnr_ZNWrjiz1wVW4-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EysgPnr_ZNWrjiz1wVW4-11" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: #0000ff;&quot;&gt;class&lt;/span&gt; &lt;span style=&quot;color: #267f99;&quot;&gt;PretrainedInit&lt;/span&gt;:&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;    &lt;span style=&quot;color: rgb(0, 0, 255);&quot;&gt;def&lt;/span&gt; &lt;span style=&quot;color: rgb(121, 94, 38);&quot;&gt;__call__&lt;/span&gt;(&lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;self&lt;/span&gt;, &lt;span style=&quot;color: rgb(0, 16, 128);&quot;&gt;module&lt;/span&gt;):&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;...&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;        &lt;span style=&quot;color: rgb(121, 94, 38);&quot;&gt;load_checkpoint&lt;/span&gt;(&lt;/div&gt;&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;module&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;self&lt;/span&gt;.&lt;span style=&quot;color: #001080;&quot;&gt;checkpoint&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;map_location&lt;/span&gt;=&lt;span style=&quot;color: #001080;&quot;&gt;self&lt;/span&gt;.&lt;span style=&quot;color: #001080;&quot;&gt;map_location&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;strict&lt;/span&gt;=&lt;span style=&quot;color: #0000ff;&quot;&gt;False&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;logger&lt;/span&gt;=&lt;span style=&quot;color: #a31515;&quot;&gt;&#39;current&#39;&lt;/span&gt;)&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="-495" y="1620" width="480" height="220" as="geometry" />
        </mxCell>
        <mxCell id="EysgPnr_ZNWrjiz1wVW4-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="EysgPnr_ZNWrjiz1wVW4-15" target="EysgPnr_ZNWrjiz1wVW4-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EysgPnr_ZNWrjiz1wVW4-15" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;div&gt;&lt;div style=&quot;text-align: left; line-height: 24px;&quot;&gt;&lt;span style=&quot;color: #001080;&quot;&gt;checkpoint&lt;/span&gt; = &lt;span style=&quot;color: #795e26;&quot;&gt;_load_checkpoint&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;filename&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;map_location&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;logger&lt;/span&gt;)&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #af00db;&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: #795e26;&quot;&gt;_load_checkpoint_to_model&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;model&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;checkpoint&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;strict&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;logger&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;color: #001080;&quot;&gt;revise_keys&lt;/span&gt;)&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-594.37" y="1890" width="678.75" height="90" as="geometry" />
        </mxCell>
        <mxCell id="EysgPnr_ZNWrjiz1wVW4-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="EysgPnr_ZNWrjiz1wVW4-16" target="EysgPnr_ZNWrjiz1wVW4-19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EysgPnr_ZNWrjiz1wVW4-16" value="&lt;div style=&quot;background-color: rgb(255, 255, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 18px; line-height: 24px; white-space: pre;&quot;&gt;&lt;span style=&quot;color: #795e26;&quot;&gt;load_state_dict&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;model&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;state_dict&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;strict&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;logger&lt;/span&gt;)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-515" y="2030" width="520" height="40" as="geometry" />
        </mxCell>
        <mxCell id="EysgPnr_ZNWrjiz1wVW4-19" value="&lt;br&gt;&lt;div style=&quot;color: #000000;background-color: #ffffff;font-family: Consolas, &#39;Courier New&#39;, monospace;font-weight: normal;font-size: 18px;line-height: 24px;white-space: pre;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #001080;&quot;&gt;module&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #795e26;&quot;&gt;_load_from_state_dict&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #001080;&quot;&gt;local_state_dict&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #001080;&quot;&gt;prefix&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #001080;&quot;&gt;local_metadata&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #000000;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #0000ff;&quot;&gt;True&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #001080;&quot;&gt;missing_keys&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #001080;&quot;&gt;unexpected_keys&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #000000;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #001080;&quot;&gt;err_msg&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div style=&quot;line-height: 24px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #008000;&quot;&gt;# 这里为什么要又遍历一遍呢？&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #af00db;&quot;&gt;for&lt;/span&gt; &lt;span style=&quot;color: #001080;&quot;&gt;name&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;child&lt;/span&gt; &lt;span style=&quot;color: #af00db;&quot;&gt;in&lt;/span&gt; module._modules.items():&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #af00db;&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;color: #001080;&quot;&gt;child&lt;/span&gt; &lt;span style=&quot;color: #0000ff;&quot;&gt;is&lt;/span&gt; &lt;span style=&quot;color: #0000ff;&quot;&gt;not&lt;/span&gt; &lt;span style=&quot;color: #0000ff;&quot;&gt;None&lt;/span&gt;:&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;child_prefix&lt;/span&gt; = prefix + &lt;span style=&quot;color: #001080;&quot;&gt;name&lt;/span&gt; + &lt;span style=&quot;color: #a31515;&quot;&gt;&#39;.&#39;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;child_state_dict&lt;/span&gt; = {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;k&lt;/span&gt;: &lt;span style=&quot;color: #001080;&quot;&gt;v&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #af00db;&quot;&gt;for&lt;/span&gt; &lt;span style=&quot;color: #001080;&quot;&gt;k&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;v&lt;/span&gt; &lt;span style=&quot;color: #af00db;&quot;&gt;in&lt;/span&gt; local_state_dict.items()&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #af00db;&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;color: #001080;&quot;&gt;k&lt;/span&gt;.startswith(&lt;span style=&quot;color: #001080;&quot;&gt;child_prefix&lt;/span&gt;)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #001080;&quot;&gt;load&lt;/span&gt;(&lt;span style=&quot;color: #001080;&quot;&gt;child&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;child_state_dict&lt;/span&gt;, &lt;span style=&quot;color: #001080;&quot;&gt;child_prefix&lt;/span&gt;)&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br/&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="-624.99" y="2120" width="739.99" height="320" as="geometry" />
        </mxCell>
        <mxCell id="EysgPnr_ZNWrjiz1wVW4-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.315;entryY=0.002;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="EysgPnr_ZNWrjiz1wVW4-19" target="EysgPnr_ZNWrjiz1wVW4-19">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-255" y="2460" />
              <mxPoint x="-690" y="2460" />
              <mxPoint x="-690" y="2090" />
              <mxPoint x="-392" y="2090" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EysgPnr_ZNWrjiz1wVW4-23" value="Runner" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="-60" y="925" width="60" height="35" as="geometry" />
        </mxCell>
        <mxCell id="EysgPnr_ZNWrjiz1wVW4-24" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-605" y="1497" width="710" height="500" as="geometry" />
        </mxCell>
        <mxCell id="EysgPnr_ZNWrjiz1wVW4-25" value="Text" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="70" y="1210" width="60" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
